% 消除前一次作業
clc; clear; close all;

k1 = K(-60)
k2 = K(-30)
k3 = K(0)
k4 = K(45)

% first, last, ...
k = AssembleK(k1, k4, k2, k3)

% 加上 E * A / L
syms E A L;

K1 = E * A / L * k1
k2 = E * A / L * k2
K3 = E * A / L * k3
K4 = E * A / L * k4

K = E * A / L * k

% ----------------------------------------------------------
% output


% k1 =

%     0.2500   -0.4330   -0.2500    0.4330
%    -0.4330    0.7500    0.4330   -0.7500
%    -0.2500    0.4330    0.2500   -0.4330
%     0.4330   -0.7500   -0.4330    0.7500


% k2 =

%     0.7500   -0.4330   -0.7500    0.4330
%    -0.4330    0.2500    0.4330   -0.2500
%    -0.7500    0.4330    0.7500   -0.4330
%     0.4330   -0.2500   -0.4330    0.2500


% k3 =

%      1     0    -1     0
%      0     0     0     0
%     -1     0     1     0
%      0     0     0     0


% k4 =

%     0.5000    0.5000   -0.5000   -0.5000
%     0.5000    0.5000   -0.5000   -0.5000
%    -0.5000   -0.5000    0.5000    0.5000
%    -0.5000   -0.5000    0.5000    0.5000


% k =

%     0.2500   -0.4330   -0.2500    0.4330         0         0         0         0         0         0
%    -0.4330    0.7500    0.4330   -0.7500         0         0         0         0         0         0
%    -0.2500    0.4330    1.0000   -0.8660   -0.7500    0.4330         0         0         0         0
%     0.4330   -0.7500   -0.8660    1.0000    0.4330   -0.2500         0         0         0         0
%          0         0   -0.7500    0.4330    1.7500   -0.4330   -1.0000         0         0         0
%          0         0    0.4330   -0.2500   -0.4330    0.2500         0         0         0         0
%          0         0         0         0   -1.0000         0    1.5000    0.5000   -0.5000   -0.5000
%          0         0         0         0         0         0    0.5000    0.5000   -0.5000   -0.5000
%          0         0         0         0         0         0   -0.5000   -0.5000    0.5000    0.5000
%          0         0         0         0         0         0   -0.5000   -0.5000    0.5000    0.5000


% K1 =

% [          (A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),         -(A*E)/(4*L),  (3^(1/2)*A*E)/(4*L)]
% [ -(3^(1/2)*A*E)/(4*L),        (3*A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),       -(3*A*E)/(4*L)]
% [         -(A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),          (A*E)/(4*L), -(3^(1/2)*A*E)/(4*L)]
% [  (3^(1/2)*A*E)/(4*L),       -(3*A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),        (3*A*E)/(4*L)]


% k2 =

% [        (3*A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),       -(3*A*E)/(4*L),  (3^(1/2)*A*E)/(4*L)]
% [ -(3^(1/2)*A*E)/(4*L),          (A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),         -(A*E)/(4*L)]
% [       -(3*A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),        (3*A*E)/(4*L), -(3^(1/2)*A*E)/(4*L)]
% [  (3^(1/2)*A*E)/(4*L),         -(A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),          (A*E)/(4*L)]


% K3 =

% [  (A*E)/L, 0, -(A*E)/L, 0]
% [        0, 0,        0, 0]
% [ -(A*E)/L, 0,  (A*E)/L, 0]
% [        0, 0,        0, 0]


% K4 =

% [  (A*E)/(2*L),  (A*E)/(2*L), -(A*E)/(2*L), -(A*E)/(2*L)]
% [  (A*E)/(2*L),  (A*E)/(2*L), -(A*E)/(2*L), -(A*E)/(2*L)]
% [ -(A*E)/(2*L), -(A*E)/(2*L),  (A*E)/(2*L),  (A*E)/(2*L)]
% [ -(A*E)/(2*L), -(A*E)/(2*L),  (A*E)/(2*L),  (A*E)/(2*L)]


% K =

% [          (A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),         -(A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),                    0,                    0,             0,            0,            0,            0]
% [ -(3^(1/2)*A*E)/(4*L),        (3*A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),       -(3*A*E)/(4*L),                    0,                    0,             0,            0,            0,            0]
% [         -(A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),              (A*E)/L, -(3^(1/2)*A*E)/(2*L),       -(3*A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),             0,            0,            0,            0]
% [  (3^(1/2)*A*E)/(4*L),       -(3*A*E)/(4*L), -(3^(1/2)*A*E)/(2*L),              (A*E)/L,  (3^(1/2)*A*E)/(4*L),         -(A*E)/(4*L),             0,            0,            0,            0]
% [                    0,                    0,       -(3*A*E)/(4*L),  (3^(1/2)*A*E)/(4*L),        (7*A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),      -(A*E)/L,            0,            0,            0]
% [                    0,                    0,  (3^(1/2)*A*E)/(4*L),         -(A*E)/(4*L), -(3^(1/2)*A*E)/(4*L),          (A*E)/(4*L),             0,            0,            0,            0]
% [                    0,                    0,                    0,                    0,             -(A*E)/L,                    0, (3*A*E)/(2*L),  (A*E)/(2*L), -(A*E)/(2*L), -(A*E)/(2*L)]
% [                    0,                    0,                    0,                    0,                    0,                    0,   (A*E)/(2*L),  (A*E)/(2*L), -(A*E)/(2*L), -(A*E)/(2*L)]
% [                    0,                    0,                    0,                    0,                    0,                    0,  -(A*E)/(2*L), -(A*E)/(2*L),  (A*E)/(2*L),  (A*E)/(2*L)]
% [                    0,                    0,                    0,                    0,                    0,                    0,  -(A*E)/(2*L), -(A*E)/(2*L),  (A*E)/(2*L),  (A*E)/(2*L)]


